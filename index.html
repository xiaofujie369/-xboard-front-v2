<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" />
  <title>å¯äº‘ Premium</title>

  <!-- å¼•å…¥ Apple Pink æ ·å¼ -->
  <link rel="stylesheet" href="./assets/custom-theme.css" />
</head>

<body>
  <div id="app"></div>

  <!-- å¯äº‘å®‰å…¨å¼¹çª— -->
  <script>
    (function () {
      console.log("KY Popup v2 loaded");
      const DASHBOARD_PATH = "/#/dashboard";
      let first = false, second = false, closed = false;
      function showPopup() {
        if (document.querySelector(".ky-popup-mask")) return;
        const el = document.createElement("div");
        el.className = "ky-popup-mask";
        el.innerHTML = `
        <div class="ky-popup-box">
          <div class="ky-popup-close">Ã—</div>
          <h2>ğŸ“¢ æ–°äººå¿…çœ‹å…¬å‘Š</h2>
          <p>æ¬¢è¿æ¥åˆ°å¯äº‘ï¼Œè¯·åŠ¡å¿…é˜…è¯»é¡¶éƒ¨å…¬å‘Šæ ä¿¡æ¯ã€‚</p>
          <p>è¯·æ”¶è—æœ€æ–°åœ°å€ï¼š<b>shy521.com</b></p>
          <p>åŠ å…¥ TG ç¾¤ç»„ï¼š<a href="https://t.me/ss_keyun" target="_blank">t.me/ss_keyun</a></p>
          <button class="ky-popup-btn">æˆ‘å·²çŸ¥æ™“</button>
        </div>`;
        document.body.appendChild(el);
        const close = () => {
          el.remove();
          if (!closed) {
            closed = true;
            setTimeout(() => {
              document.addEventListener("click", function once() {
                setTimeout(showPopup, 4000);
                document.removeEventListener("click", once);
              });
            }, 60000);
          }
        };
        el.querySelector(".ky-popup-close").onclick = close;
        el.querySelector(".ky-popup-btn").onclick = close;
      }
      function delay(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min) * 1000;
      }
      function start() {
        if (location.href.includes(DASHBOARD_PATH)) {
          if (!first) {
            first = true;
            setTimeout(showPopup, delay(3, 10));
          }
        } else requestAnimationFrame(start);
      }
      window.addEventListener("load", start);
    })();
  </script>

  <!-- ç§»åŠ¨ç«¯å¢å¼º -->
  <script src="./mobile-enhance.js"></script>

  <!-- ä¸»ç¨‹åºï¼ˆé™çº§ umi.jsï¼‰ -->
  <script src="./assets/umi.js"></script>
</body>
</html>
